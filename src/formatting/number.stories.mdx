import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import styled from "styled-components"
import {formatNumber} from "./number"
import {UNITS, STYLE, CURRENCY_DISPLAY} from "./number.constants"

<Meta title="Formatting|Format number" component={formatNumber}/>

# Format number
Number formatter for all your needs

```javascript
import { formatNumber } from "@staccx/bento"
```

### Defaults
```javascript
const defaults = {
  style: STYLE.decimal,
  currencyDisplay: CURRENCY_DISPLAY.symbol,
  suffix: null,
  unitDisplay: UNIT_DISPLAY.short,
  currency: "NOK", // http://www.currency-iso.org/en/home/tables/table-a1.html,
  useGrouping: true,
  locale: "nb-no",
  unit: null,
  minimumFractionDigits: 0
}
```


## Default
Uses Norwegian locales by default

<Preview>
  <Story name="Default">
   <p>{formatNumber(100000)}</p>
  </Story>
</Preview>

## Locales
Easily change locale

<Preview>
  <Story name="Locale">
   <p>{formatNumber(100000, {locale: "en"})}</p>
  </Story>
</Preview>

## Currency
You can use it to do money formatting (NOTE: this also has its own function `formatMoney`)

<Preview>
  <Story name="Currency">
   <p>{formatNumber(100000, {style: STYLE.currency})}</p>
  </Story>
</Preview>

### suffix
NOTE: This can be used for any style. but if you want a unit you should use Units
<Preview>
  <Story name="Suffix">
   <p>{formatNumber(100000, {style: STYLE.currency, suffix: ".-"})}</p>
  </Story>
</Preview>

### currencyDisplay
<Preview>
  <Story name="Currency display name">
   <p>{formatNumber(100000, {style: STYLE.currency, currencyDisplay: CURRENCY_DISPLAY.name})}</p>
  </Story>
</Preview>

<Preview>
  <Story name="Currency display code">
   <p>{formatNumber(100000, {style: STYLE.currency, currencyDisplay: CURRENCY_DISPLAY.code})}</p>
  </Story>
</Preview>

## Fractions
Override default fraction settings

<Preview>
  <Story name="Fractions min">
   <p>{formatNumber(100000, {minimumFractionDigits: 2})}</p>
  </Story>
</Preview>

<Preview>
  <Story name="Fractions max">
   <p>{formatNumber(1337.148, {maximumFractionDigits: 1})}</p>
  </Story>
</Preview>

## Compact formatting
Can compact numbers

<Preview>
  <Story name="Compact">
   <p>{formatNumber(100000, { notation: "compact" })}</p>
  </Story>
</Preview>

## Unit formatting
A lot of units can be used to format

<Preview>
  <Story name="Units">
   <p>{formatNumber(25, {
               style: STYLE.unit,
               unit: UNITS.celsius
             })}</p>
  </Story>
</Preview>

export const UnitGrid = styled.div`
  display: grid;
  grid-template-columns: repeat( auto-fit, minmax(100px, 1fr) );
`

Full list of units can be found in `./number.constants.js` and ðŸ‘‡
<Preview>
<Story name="List of units">
   {() => {
   return <UnitGrid>{Object.keys(UNITS).map(unit => <div>{unit}</div>)}</UnitGrid>
   }
 }
  </Story>
</Preview>

## Percentage
Percentage formatting. Remember it uses normalized values (0-1)

<Preview>
  <Story name="Percentage">
    <div>
       <p>{formatNumber(1, {
                   style: STYLE.percent
     })}</p>
      <p>{formatNumber(0.2, {
                            style: STYLE.percent
        })}</p>
       <p>{formatNumber(1.5, {
                  style: STYLE.percent
       })}</p>
     </div>
  </Story>
</Preview>
