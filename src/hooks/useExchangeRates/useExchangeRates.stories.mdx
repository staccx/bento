import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks"
import {useState} from "react"
import ReactJson from "react-json-view"
import List from "../../components/Lists/List"
import { useExchangeRates } from "./useExchangeRates"
import Input from "../../components/Forms/Input/Input"
import CurrencyInput from "../../components/Forms/Input/CurrencyInput/CurrencyInput"

export const currencies = [
"AUD",
"BGN",
"BRL",
"CAD",
"CHF",
"CNY",
"CZK",
"DKK",
"EUR",
"GBP",
"HKD",
"HRK",
"HUF",
"IDR",
"ILS",
"INR",
"ISK",
"JPY",
"KRW",
"MXN",
"MYR",
"NOK",
"NZD",
"PHP",
"PLN",
"RON",
"RUB",
"SEK",
"SGD",
"THB",
"TRY",
"USD",
"ZAR"
]


<Meta
  title="HOOKS|useExhangeRates"
  component={useExchangeRates}
/>

# useExhangeRates

### Import
All Hooks are imported via hooks. to use a spesific hook you would
use ```hooks.hookYouWant```

```javascript
import { hooks } from "@staccx/bento"
```
usage
```javascript
const {convert, getExchangeRate} = hooks.useExhangeRates
```

## Standard useExchangeRates

<Preview>
  <Story name="Standard">
    {() => {
          const [search, setSearch] = useState("NOK")
          const [search2, setSearch2] = useState("USD")
          const [value, valueSet] = React.useState(0)
          const [result, resultSet] = React.useState(0)
          const [rate, rateSet] = React.useState(0)
          const { convert, getExchangeRate } = useExchangeRates(search)
        React.useEffect(() => {
          if(convert) {
            resultSet(convert(search2, value))
            rateSet(getExchangeRate(search2))
          }
        }, [value, convert])
        return <>
        <ul>
        {currencies.map(curr => (
        <li>
        <div>
        {curr}
        </div>
        </li>))}
        </ul>
            <Input defaultValue={search} onChange={e => setSearch(e.target.value)} placeholder="Search here" style={{width:300}}/>
            <Input defaultValue={search2} onChange={e => setSearch2(e.target.value)} placeholder="To currency" style={{width:300}}/>
            <CurrencyInput defaultValue={value} onChange={e => valueSet(e.target.rawValue)} placeholder="Value" style={{width:300}}/>
            <div>Exchange rate: {rate && rate}</div>
            <div>Converted: {result && result}</div>
          </>
        }
        }
  </Story>
</Preview>
